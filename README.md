<div align="center">

# ğŸš€ Teledeck

### *è½»é‡çº§ Telegram å¤šè´¦å·ç®¡ç†é¢æ¿*

[![.NET 8](https://img.shields.io/badge/.NET-8.0-512BD4?style=flat-square&logo=dotnet)](https://dotnet.microsoft.com/)
[![Blazor Server](https://img.shields.io/badge/Blazor-Server-512BD4?style=flat-square&logo=blazor)](https://blazor.net/)
[![WTelegramClient](https://img.shields.io/badge/MTProto-WTelegramClient-0088CC?style=flat-square&logo=telegram)](https://github.com/wiz0u/WTelegramClient)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=flat-square&logo=docker)](https://www.docker.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square)](LICENSE)

---

*åŸºäºçº¯ C# MTProto å®ç°çš„è½»é‡çº§ Telegram å¤šè´¦å·èŠå¤©é¢æ¿*


</div>

---

## âœ¨åŠŸèƒ½ç‰¹æ€§

### ğŸ¨ ç°ä»£åŒ– UI
- **Material Design 3** - åŸºäº MudBlazor çš„æš—è‰²ä¸»é¢˜
- **å®æ—¶æ›´æ–°** - Blazor Server äº¤äº’ç»„ä»¶
- **å“åº”å¼å¸ƒå±€**
- å¤šè´¦å·ç®¡ç†ï¼šå¯¼å…¥/å¯¼å‡ºè´¦å·ä¼šè¯ï¼ˆZIPï¼‰
- æ¶ˆæ¯ä¸­å¿ƒï¼šèŠå¤©åˆ—è¡¨ã€æœç´¢ã€å‘é€
- çŠ¶æ€ç›‘æ§ä¸å‘Šè­¦ï¼šåœ¨çº¿çŠ¶æ€è®°å½•ä¸å‘Šè­¦é…ç½®
- Webhookï¼šäº‹ä»¶è®¢é˜…ã€é‡è¯•ã€é™æµä¸å®‰å…¨æ ¡éªŒ
- æ¨¡å—ç³»ç»Ÿï¼šæ”¯æŒå®‰è£…/å¸è½½æ‰©å±•æ¨¡å—
- ç‰ˆæœ¬æç¤ºï¼šæ˜¾ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œæ£€æµ‹åˆ°æ–°ç‰ˆæœ¬å¯ä¸€é”®è·³è½¬åˆ° GitHub

---
## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¨ Blazor Server UI                      â”‚
â”‚              Material Design 3 + MudBlazor                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     ğŸ“¦ ä¸šåŠ¡æ¨¡å—å±‚                            â”‚
â”‚            è´¦å·ç®¡ç†  â”‚  èŠå¤©ç•Œé¢  â”‚  ç³»ç»Ÿè®¾ç½®                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   ğŸ”Œ æ ¸å¿ƒæŠ½è±¡å±‚                              â”‚
â”‚          ITdClient  â”‚  ITdClientManager  â”‚  Services        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    âš™ï¸ åŸºç¡€è®¾æ–½å±‚                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    â”‚   WTelegram Client  â”‚    â”‚    EF Core + SQLite â”‚      â”‚
â”‚    â”‚   çº¯ C# MTProto     â”‚    â”‚      æ•°æ®æŒä¹…åŒ–      â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡¹ç›®ç»“æ„

```
teledeck-lite/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ TgLitePanel.Host/                 # ä¸»å…¥å£ï¼ŒBlazor Server
â”‚   â”œâ”€â”€ ğŸ“ TgLitePanel.Core.Abstractions/    # æ¥å£ä¸æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“ TgLitePanel.Core.Modules/         # æ¨¡å—ç³»ç»Ÿæ ¸å¿ƒ
â”‚   â”œâ”€â”€ ğŸ“ TgLitePanel.Infrastructure.WTelegram/    # WTelegramClient å°è£…
â”‚   â”œâ”€â”€ ğŸ“ TgLitePanel.Infrastructure.Persistence/  # EF Core + SQLite
â”‚   â””â”€â”€ ğŸ“ modules/
â”‚       â”œâ”€â”€ ğŸ“ TgLitePanel.Module.Accounts/  # è´¦å·ç®¡ç†æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ TgLitePanel.Module.Chat/      # èŠå¤©ç•Œé¢æ¨¡å—
â”‚       â””â”€â”€ ğŸ“ TgLitePanel.Module.Settings/  # ç³»ç»Ÿè®¾ç½®æ¨¡å—
â”œâ”€â”€ ğŸ“ tests/
â”‚   â””â”€â”€ ğŸ“ TgLitePanel.Tests/                # å•å…ƒæµ‹è¯•
â”œâ”€â”€ ğŸ“ docker/
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile                        # å¤šé˜¶æ®µæ„å»º
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml                # ä¸€é”®éƒ¨ç½²
â”‚   â””â”€â”€ ğŸ“„ .env.example                      # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ ğŸ“„ TgLitePanel.sln                       # è§£å†³æ–¹æ¡ˆæ–‡ä»¶
```

---

## ä¸€é”®éƒ¨ç½²

### å‰ç½®è¦æ±‚
- ä» [my.telegram.org](https://my.telegram.org) è·å– API ID å’Œ API Hash
- ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªåŸŸåï¼Œç”¨äº HTTPS è®¿é—®

### ç¬¬ 1 æ­¥ï¼šå…‹éš†ä»“åº“

```bash
git clone https://github.com/jikssha/teledeck-lite.git
cd teledeck-lite/docker

docker compose up -d --build
```

æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼ˆå¿…é¡»æ˜¾ç¤º `running`ï¼‰ï¼š

```bash
docker compose ps
```

å¦‚æœä¸æ˜¯ `running`ï¼Œçœ‹æ—¥å¿—ï¼š

```bash
docker compose logs -f --tail=200 tglitepanel
```

### ç¬¬ 2 æ­¥ï¼šå¼€æ”¾ç«¯å£å¹¶è®¿é—®

æµè§ˆå™¨è®¿é—®ï¼š`http://æœåŠ¡å™¨IP:7070`

å¦‚æœä½ å¯ç”¨äº† UFWï¼š

```bash
ufw allow 7070/tcp
ufw status
```

### ç¬¬ 3 æ­¥ï¼šé¦–æ¬¡ç™»å½•ï¼ˆé»˜è®¤è´¦å·ï¼‰

- é»˜è®¤ç”¨æˆ·åï¼š`admin`
- é»˜è®¤å¯†ç ï¼š`tgadmin`

ç™»å½•åç«‹åˆ»åšä¸¤ä»¶äº‹ï¼š

1. æ‰“å¼€ **è´¦å·å®‰å…¨**ï¼ˆ`/security`ï¼‰ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç 
2. æ‰“å¼€ **ç³»ç»Ÿè®¾ç½®**ï¼ˆ`/settings`ï¼‰å¡«å†™ Telegram `API ID` ä¸ `API Hash`

---

## å¸¸è§é—®é¢˜ï¼ˆå…ˆçœ‹è¿™é‡Œï¼‰

### 1) å®¹å™¨ä¸€ç›´é‡å¯ / é¡µé¢æ‰“ä¸å¼€

```bash
cd ~/teledeck-lite/docker
docker compose ps
docker compose logs --tail=200 tglitepanel
```

å¦‚æœä½ ç¡®è®¤æ˜¯é¦–æ¬¡éƒ¨ç½²ï¼ˆä¸éœ€è¦ä¿ç•™ä»»ä½•æ•°æ®ï¼‰ï¼Œå¯ä»¥åˆ é™¤æ•°æ®åº“é‡å»ºï¼š

```bash
docker compose down
rm -f ../data/app.db ../data/app.db-wal ../data/app.db-shm
docker compose up -d --build
```


---

## é«˜çº§é…ç½®ï¼ˆå¯é€‰ï¼‰

é»˜è®¤æƒ…å†µä¸‹æ— éœ€åšä»»ä½•é…ç½®ã€‚å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰æ•°æ®ç›®å½•/åˆå§‹ç®¡ç†å‘˜è´¦å·ï¼Œæ‰éœ€è¦ `.env`ã€‚

### 1) ä½¿ç”¨ `.env` è‡ªå®šä¹‰é…ç½®

```bash
cd ~/teledeck-lite/docker
cp .env.example .env
nano .env
```

å¸¸ç”¨é¡¹ï¼š

- `DATA_DIR`ï¼šå®¹å™¨å†…æ•°æ®ç›®å½•ï¼ˆé€šå¸¸ä¿æŒ `/data`ï¼‰
- `DB_PATH`ï¼šSQLite æ–‡ä»¶è·¯å¾„ï¼ˆé€šå¸¸ä¿æŒ `/data/app.db`ï¼‰
- `ADMIN_INIT_USER/ADMIN_INIT_PASS`ï¼šä»…ç”¨äºé¦–æ¬¡å¯åŠ¨åˆ›å»ºç®¡ç†å‘˜

é‡è¦è¯´æ˜ï¼š

- `ADMIN_INIT_*` åªç”¨äºé¦–æ¬¡åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼›åˆ›å»ºåè¯·åœ¨ Web çš„ `/security` ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç ã€‚

---

## Caddy åå‘ä»£ç†ï¼ˆHTTPS / æ¨èç”Ÿäº§ç¯å¢ƒï¼‰

ç›´è¿ `7070` é€‚åˆæµ‹è¯•ï¼›ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨åŸŸå + HTTPSï¼Œå¹¶æŠŠ `7070` ä»…å¼€æ”¾ç»™æœ¬æœºã€‚

### æ–¹å¼ Aï¼šå®¿ä¸»æœºç‹¬ç«‹å®‰è£… Caddyï¼ˆæ¨èæ–°æ‰‹ï¼‰

#### A1) DNS è§£æ

æ·»åŠ  DNS è®°å½•ï¼š

- `A` è®°å½•ï¼š`example.com -> ä½ çš„æœåŠ¡å™¨IP`

#### A2) å®‰è£… Caddy

```bash
apt -y install caddy
systemctl enable --now caddy
```

#### A3) é…ç½® Caddyfile

```bash
nano /etc/caddy/Caddyfile
```

å†™å…¥ï¼ˆå°† `example.com` æ¢æˆä½ çš„åŸŸåï¼‰ï¼š

```caddy
example.com {
    reverse_proxy 127.0.0.1:7070
}
```

éªŒè¯å¹¶é‡è½½ï¼š

```bash
caddy validate --config /etc/caddy/Caddyfile
systemctl reload caddy
```

å¦‚æœä½ å¯ç”¨äº† UFWï¼Œæ”¾è¡Œ 80/443ï¼š

```bash
ufw allow 80/tcp
ufw allow 443/tcp
```

è®¿é—®ï¼š`https://example.com`

#### A4)ï¼ˆå¯é€‰ï¼‰æ”¶ç´§ 7070ï¼ˆæ¨èï¼‰

å½“ HTTPS å·²å¯è®¿é—®åï¼Œå»ºè®®ä¸å†å¯¹å…¬ç½‘å¼€æ”¾ 7070ï¼š

```bash
ufw deny 7070/tcp
ufw allow from 127.0.0.1 to any port 7070 proto tcp
```

---

## æ›´æ–°ä¸å¤‡ä»½

### å¤‡ä»½æ•°æ®

é»˜è®¤æ•°æ®åœ¨ `~/teledeck-lite/data`ï¼š

```bash
cd ~/teledeck-lite
cp -a data "data-backup-$(date +%F-%H%M%S)"
```

### æ›´æ–°é¡¹ç›®

```bash
cd ~/teledeck-lite
git pull
cd docker
docker compose down
docker compose up -d --build
```

---

## âš™ï¸ é…ç½®è¯´æ˜
### æ•°æ®å­˜å‚¨

| è·¯å¾„ | è¯´æ˜ |
|:-----|:-----|
| `/data/app.db` | SQLite æ•°æ®åº“ï¼ˆè´¦å·ä¿¡æ¯ã€é…ç½®ã€ç”¨æˆ·ï¼‰ |
| `/data/accounts/<id>/session.dat` | WTelegram ä¼šè¯æ–‡ä»¶ |
| `/data/tmp/` | ä¸´æ—¶æ–‡ä»¶ï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰ |

---

## ğŸ“¦ å¯¼å…¥å¯¼å‡º

### ä¼šè¯å¯¼å…¥æ ¼å¼

Teledeck æ”¯æŒçµæ´»çš„ä¼šè¯æ–‡ä»¶å¯¼å…¥ï¼š

**å•è´¦å·å¯¼å…¥**
```
archive.zip
â”œâ”€â”€ 1234567890.session    # ä¼šè¯æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ 1234567890.json       # å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ 2fa.txt               # äºŒçº§å¯†ç ï¼ˆå¯é€‰ï¼‰
```

**æ‰¹é‡å¯¼å…¥**
```
archive.zip
â”œâ”€â”€ +1234567890/
â”‚   â”œâ”€â”€ +1234567890.session
â”‚   â”œâ”€â”€ +1234567890.json
â”‚   â””â”€â”€ 2fa.txt           # äºŒçº§å¯†ç ï¼ˆå¯é€‰ï¼Œä¸ä¼šæŒä¹…åŒ–ï¼‰
â”œâ”€â”€ +9876543210/
â”‚   â”œâ”€â”€ +9876543210.session
â”‚   â””â”€â”€ +9876543210.json
â””â”€â”€ ...
```

> **æç¤º**ï¼š`2fa.txt` ä»…ç”¨äºå¯¼å…¥æ—¶è¯»å–äºŒçº§å¯†ç ï¼Œä¸ä¼šæŒä¹…åŒ–åˆ°æ•°æ®åº“ã€‚

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|:-----|:-----|
| **å‰ç«¯** | Blazor Server, MudBlazor, Material Design 3 |
| **åç«¯** | ASP.NET Core 8, C# 12 |
| **Telegram** | WTelegramClientï¼ˆçº¯ C# MTProto å®ç°ï¼‰ |
| **æ•°æ®åº“** | Entity Framework Core, SQLite |
| **å®¹å™¨åŒ–** | Docker, Docker Compose |
| **åå‘ä»£ç†** | Caddyï¼ˆè‡ªåŠ¨ HTTPSï¼‰ |

---

## ğŸ”’ å®‰å…¨è¯´æ˜

### å®‰å…¨æªæ–½

- âœ… **æ— æ•æ„Ÿæ—¥å¿—** - éªŒè¯ç å’ŒäºŒçº§å¯†ç æ°¸ä¸è®°å½•åˆ°æ—¥å¿—
- âœ… **ä¼šè¯åŠ å¯†** - WTelegramClient å¤„ç†å®‰å…¨çš„ä¼šè¯å­˜å‚¨
- âœ… **é€Ÿç‡é™åˆ¶** - æ‰¹é‡æ“ä½œå†…ç½®ä¿æŠ¤æœºåˆ¶
- âœ… **å¯†ç å“ˆå¸Œ** - ç®¡ç†å‘˜å¯†ç ä½¿ç”¨ PBKDF2-SHA256ï¼ˆ150,000 æ¬¡è¿­ä»£ï¼‰
- âœ… **ZIP ç‚¸å¼¹é˜²æŠ¤** - å¯¼å…¥éªŒè¯é˜²æ­¢æ¶æ„å‹ç¼©åŒ…

---

## ğŸ“‹ å¼€å‘è·¯çº¿

- [ ] å¤šè¯­è¨€æ”¯æŒï¼ˆi18nï¼‰
- [ ] è´¦å·åˆ†ç»„ä¸æ ‡ç­¾
- [ ] æ¶ˆæ¯æœç´¢åŠŸèƒ½
- [ ] Webhook é€šçŸ¥
- [ ] è´¦å·å¥åº·ç›‘æ§
- [ ] å¤‡ä»½æ¢å¤ä¼˜åŒ–

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'æ·»åŠ æŸä¸ªåŠŸèƒ½'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---
---

<div align="center">

**ç”¨ â¤ï¸ å’Œ â˜• åˆ¶ä½œ**

*å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹ä¸ª â­*

</div>
